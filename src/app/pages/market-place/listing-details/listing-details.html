<div *ngIf="listing() as vessel; else loading" class="listing-details-container">
    <mat-card class="detail-card">
        <mat-card-header>
            <mat-card-title class="listing-title">{{ vessel.title }}</mat-card-title>
            <mat-card-subtitle>
                {{ vessel.make }} • {{ vessel.boatType }} • {{ vessel.year }}
            </mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
            <div class="listing-gallery" *ngIf="vessel.images">
                <img *ngFor="let img of vessel.images" [src]="img ? img : ''" alt="{{ vessel.title }}" />
            </div>

            <p class="listing-description">{{ vessel.description }}</p>

            <div class="listing-meta">
                <p><strong i18n>Category:</strong> {{ vessel.category }}</p>
                <p><strong i18n>Class:</strong> {{ vessel.boatClass }}</p>
                <p><strong i18n>Length:</strong> {{ vessel.length_m }}m</p>
                <p><strong i18n>Condition:</strong> {{ vessel.condition }}</p>
                <p><strong i18n>Location:</strong> {{ vessel.city }}, {{ vessel.country }} ({{ vessel.port }})</p>
                <p><strong i18n>Price:</strong> {{ vessel.price }} {{ vessel.currency }}</p>
            </div>
        </mat-card-content>

        <mat-card-actions class="action-buttons">
            <button mat-flat-button color="primary" i18n>Contact Owner</button>
            <button mat-stroked-button color="accent" i18n>Add to Favorites</button>
        </mat-card-actions>
    </mat-card>

    <mat-card class="owner-card">
        <mat-card-header>
            <mat-card-title>Owner</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            @{{vessel.owner?.username}}
        </mat-card-content>
    </mat-card>
</div>

<ng-template #loading>
    <p>Loading vessel details...</p>
</ng-template>